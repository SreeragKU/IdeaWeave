"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6136],{49923:function(e,t,l){var o=l(85893),a=l(67294),i=l(11163),n=l(4851);t.Z=e=>{let{path:t="/"}=e,[l,s]=(0,a.useState)(3),r=(0,i.useRouter)();return(0,a.useEffect)(()=>{let e=setInterval(()=>{s(l-1)},1e3);return 0===l&&(clearInterval(e),r.push(t)),()=>clearInterval(e)},[l]),(0,o.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:(0,o.jsx)(n.default,{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",fontSize:"50px",color:"red"}})})}},50721:function(e,t,l){var o=l(85893),a=l(67294),i=l(28465),n=l(11187),s=l(91633),r=l(84996),c=l(35297),d=l(42074),u=l(92018),p=l(83555),h=l(94212),m=l(6154),x=l(86501);let{Dragger:v}=i.default;t.Z=e=>{var t;let{page:l="admin"}=e,[i,f]=(0,a.useContext)(d.V),[g,y]=(0,a.useContext)(h.Y),[j,b]=(0,a.useState)(!1);(0,a.useEffect)(()=>{let e=async()=>{try{let{data:e}=await m.Z.get("/media");y(t=>({...t,images:e}))}catch(e){console.log(e)}};e()},[]);let C={name:"file",multiple:!0,action:"".concat("https://ideaweave-backend.onrender.com/api","/upload-image-file"),headers:{Authorization:"Bearer ".concat(i.token)},onChange(e){"uploading"!==e.file.status&&console.log(e.file,e.fileList),"done"===e.file.status?(n.default.success("".concat(e.file.name," file uploaded successfully")),y({images:[...g.images,e.file.response],selected:e.file.response,showMediaModal:!1})):"error"===e.file.status&&n.default.error("".concat(e.file.name," file upload failed."))},onDrop(e){console.log("Dropped files",e.dataTransfer.files)}},w=async e=>{try{let{data:t}=await m.Z.delete("/media/".concat(e));t.ok&&(y({...g,images:g.images.filter(t=>t._id!==e),selected:null}),x.Am.success("Image deleted successfully"))}catch(e){console.log(e)}};return(0,o.jsxs)("div",{style:{width:"75%",margin:"0 auto",marginTop:40},children:[(0,o.jsxs)(v,{...C,accept:"image/*",children:[(0,o.jsx)("p",{className:"ant-upload-drag-icon",children:(0,o.jsx)(p.Z,{})}),(0,o.jsx)("p",{className:"ant-upload-text",children:"Click or drag file to this area to upload"})]}),(0,o.jsx)("div",{style:{textAlign:"center",marginTop:20,display:"flex",flexWrap:"wrap",justifyContent:"center"},children:null==g?void 0:null===(t=g.images)||void 0===t?void 0:t.filter(e=>{var t,o;return"admin"===l||(null==e?void 0:null===(t=e.postedBy)||void 0===t?void 0:t._id)===(null==i?void 0:null===(o=i.user)||void 0===o?void 0:o._id)}).map(e=>{var t,a;return(0,o.jsx)(r.Z,{children:(0,o.jsxs)("div",{style:{margin:"10px",padding:"10px",border:"1px solid #ddd",borderRadius:"8px",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.1)",position:"relative"},children:[(0,o.jsx)(s.Z,{onClick:()=>y({...g,selected:e}),preview:j,src:e.url,style:{height:"100px",width:"100px",objectFit:"cover",cursor:"pointer",borderRadius:"8px"}}),(0,o.jsx)("br",{}),"author"===l&&(null==e?void 0:null===(t=e.postedBy)||void 0===t?void 0:t._id)==(null==i?void 0:null===(a=i.user)||void 0===a?void 0:a._id)?(0,o.jsx)(c.Z,{title:"Are you sure to delete this image?",onConfirm:()=>w(e._id),okText:"Yes",cancelText:"No",placement:"bottomRight",children:(0,o.jsx)(u.default,{style:{position:"absolute",bottom:"5px",right:"5px",color:"#f5222d",cursor:"pointer"}})}):"admin"===l?(0,o.jsx)(c.Z,{title:"Are you sure to delete this image?",onConfirm:()=>w(e._id),okText:"Yes",cancelText:"No",placement:"bottomRight",children:(0,o.jsx)(u.default,{style:{position:"absolute",bottom:"5px",right:"5px",color:"#f5222d",cursor:"pointer"}})}):""]})},e._id)})})]})}},93338:function(e,t,l){var o=l(85893),a=l(67294),i=l(28465),n=l(11187),s=l(65400),r=l(42074),c=l(35855),d=l(94212),u=l(11163);t.Z=e=>{let{redirectToLibrary:t=!1,page:l="admin"}=e,[p,h]=(0,a.useContext)(r.V),[m,x]=(0,a.useContext)(d.Y),v=(0,u.useRouter)(),f={name:"file",action:"".concat("https://ideaweave-backend.onrender.com/api","/upload-image-file"),headers:{Authorization:"Bearer ".concat(p.token)},onChange(e){"uploading"!==e.file.status&&console.log(e.file,e.fileList),"done"===e.file.status?(n.default.success("".concat(e.file.name," file uploaded successfully")),x({images:[...m.images,e.file.response],selected:e.file.response,showMediaModal:!1}),t&&v.push("/".concat(l,"/media/library"))):"error"===e.file.status&&n.default.error("".concat(e.file.name," file upload failed."))}};return(0,o.jsxs)("div",{children:[(0,o.jsx)("style",{children:"\n          .ant-upload-list-item-card-actions {\n            display: none;\n          }\n        "}),(0,o.jsx)(i.default,{...f,maxCount:1,children:(0,o.jsx)(s.default,{icon:(0,o.jsx)(c.Z,{}),children:"Click to Upload"})})]})}},90148:function(e,t,l){var o=l(85893);l(67294);var a=l(93338),i=l(50721),n=l(20838);let{TabPane:s}=n.default;t.Z=()=>(0,o.jsxs)(n.default,{children:[(0,o.jsx)(s,{tab:"Upload File",children:(0,o.jsx)(a.Z,{})},"1"),(0,o.jsx)(s,{tab:"Media Library",children:(0,o.jsx)(i.Z,{})},"2")]})},68214:function(e,t,l){var o=l(85893);l(67294);var a=l(56697);t.Z=function(e){let{visible:t,imageUrl:l,onClose:i}=e;return(0,o.jsx)(a.default,{visible:t,title:"Image Preview",footer:null,onCancel:i,bodyStyle:{padding:0},width:"67%",style:{top:0,height:"100%"},children:(0,o.jsx)("img",{alt:"Image Preview",style:{width:"100%",display:"flex",overflow:"hidden"},src:l})})}},78682:function(e,t,l){var o=l(85893),a=l(67294);l(28934);var i=l(6154),n=l(16373),s=l(64749),r=l(55673),c=l(5789),d=l(51024),u=l(65400),p=l(56697),h=l(70302),m=l(68469),x=l(20838),v=l(94704),f=l(5152),g=l.n(f),y=l(86501),j=l(11163),b=l(35855),C=l(42419),w=l(32615),S=l(58452),k=l(90148),I=l(94212),N=l(68214);let M=g()(()=>Promise.all([l.e(2937),l.e(1167),l.e(3218)]).then(l.t.bind(l,71167,23)),{loadableGenerated:{webpack:()=>[71167]},ssr:!1,loading:()=>(0,o.jsx)("p",{children:"Loading ..."})}),{Content:Z}=n.default,{Option:_}=s.default,{Panel:T}=m.default,{TabPane:A}=x.default,P={toolbar:[[{font:[]}],[{size:["small",!1,"large","huge"]}],["bold","italic","underline","strike"],["blockquote","code-block"],[{color:[]},{background:[]}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],["clean"]]},z=["font","size","bold","italic","underline","strike","blockquote","list","bullet","indent","script","color","background"],B={height:"500px",overflowY:"auto",padding:"20px"};t.Z=function(e){var t,l,n;let{page:f="admin"}=e,[g,Z]=(0,a.useState)({}),[E,O]=(0,a.useState)(""),[R,q]=(0,a.useState)([]),[L,V]=(0,a.useState)(""),[J,D]=(0,a.useState)({}),[H,Y]=(0,a.useState)(!1),[U,F]=(0,a.useState)(!0),W=(0,j.useRouter)(),[G,K]=(0,a.useContext)(I.Y),[Q,X]=(0,a.useState)(0),{Step:$}=v.default,[ee,et]=(0,a.useState)([]),[el,eo]=(0,a.useState)(!1),[ea,ei]=(0,a.useState)(""),[en,es]=(0,a.useState)([]),[er,ec]=(0,a.useState)([]);(0,a.useEffect)(()=>{ed(),eu()},[]),(0,a.useEffect)(()=>{eu()},[null==W?void 0:null===(t=W.query)||void 0===t?void 0:t.slug]);let ed=async()=>{try{let{data:e}=await i.Z.get("/category");q(e)}catch(e){console.log(e)}},eu=async()=>{try{let{data:e}=await i.Z.get("/post/".concat(W.query.slug));O(e.post.title),Z(e.post.content),D(e.post.coverImage),V(e.post._id);let t=e.post.volumes.map(e=>({volume:e.volume,chapters:e.chapters.map(e=>({name:e.name||"Chapter ".concat(chapterIndex+1),content:e.content}))}));et(t);let l=[];e.post.categories.map(e=>l.push(e.name)),es(l),F(!1)}catch(e){console.log(e),F(!1)}},ep=async()=>{try{var e,t;F(!0);let l=ee.filter(e=>e.volume&&e.chapters.length>=1).map((e,t)=>"".concat(e.volume,": ").concat(e.chapters.map((e,l)=>{var o;return"Chapter ".concat(e.chapter||"1",": ").concat(e.name," - ").concat((null===(o=g["".concat(t,"-").concat(l)])||void 0===o?void 0:o.content)||eh(t,l)||"")}).join(", "))).join("; "),o=en.length>0?en:er,a={title:E,content:'<div style="font-size: 1.2rem; line-height: 1.6">'.concat(l,"</div>"),categories:o,coverImage:(null==G?void 0:null===(e=G.selected)||void 0===e?void 0:e._id)?null==G?void 0:null===(t=G.selected)||void 0===t?void 0:t._id:(null==J?void 0:J._id)?J._id:void 0,volumes:ee.map((e,t)=>({volume:e.volume,chapters:e.chapters.map((e,l)=>{let o="".concat(t,"-").concat(l),a=g[o];return{chapter:e.chapter||"1",name:e.name||"Untitled",content:(null==a?void 0:a.content)!==void 0?a.content:e.content}})}))},{data:n}=await i.Z.put("/edit-post/".concat(L),a);(null==n?void 0:n.error)?(y.Am.error(null==n?void 0:n.error),F(!1)):(localStorage.removeItem("post-edit-title"),localStorage.removeItem("post-edit-volumes"),Object.keys(g).forEach(e=>{let t="post-edit-chapter-".concat(e);localStorage.removeItem(t)}),localStorage.removeItem("post-edit-image"),K({...G,selected:null}),W.push("/".concat(f,"/posts")),y.Am.success("Post updated successfully"))}catch(e){console.error(e),y.Am.error("Post update failed. Try again."),F(!1)}},eh=(e,t)=>{let l="".concat(e,"-").concat(t),o=JSON.parse(localStorage.getItem("post-edit-chapter-".concat(l)));return(null==o?void 0:o.content)||""},em=()=>{if(0===Q)localStorage.setItem("post-edit-title",JSON.stringify(E));else if(1===Q){let e=JSON.parse(localStorage.getItem("post-edit-volumes"))||[],t=JSON.parse(localStorage.getItem("post-edit-image"))||{},l=ee.some((t,l)=>{let o=e[l]||{};return t.volume!==o.volume||t.chapters.some((e,t)=>{var l;let a=(null===(l=o.chapters)||void 0===l?void 0:l[t])||{};return e.name!==a.name||e.content!==a.content})});if(l){let e=ee.map(e=>({volume:e.volume,chapters:e.chapters.map(e=>({chapter:e.chapter||"1",name:e.name||"Untitled",content:e.content||""}))}));localStorage.setItem("post-edit-volumes",JSON.stringify(e)),localStorage.setItem("post-edit-image",JSON.stringify(null==G?void 0:G.selected))}else localStorage.setItem("post-edit-volumes",JSON.stringify(e)),localStorage.setItem("post-edit-image",JSON.stringify(t))}X(Q+1)},ex=()=>{X(Q-1)},ev=(e,t)=>{let l=[...ee];l[e].chapters.splice(t,1),l[e].chapters.forEach((e,t)=>{e.chapter=t+1,e.name="Chapter ".concat(e.chapter)});let o="".concat(e,"-").concat(t),a="post-edit-chapter-".concat(o);localStorage.removeItem(a),et(l),Z(e=>{let{[o]:t,...l}=e;return l})},ef=e=>{let t=[...ee],l=t.splice(e,1)[0],o="volume-".concat(e);localStorage.removeItem(o),l.chapters.forEach((t,l)=>{let o="".concat(e,"-").concat(l),a="post-edit-chapter-".concat(o);localStorage.removeItem(a)}),et(t),Z(t=>{let l=Object.keys(t).filter(t=>t.startsWith("".concat(e,"-"))),{[o]:a,...i}=t;return l.reduce((e,l)=>{let o="post-edit-chapter-".concat(l);return localStorage.removeItem(o),{...e,[l]:t[l]}},i)})};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(r.default,{justify:"center",style:{paddingLeft:50,paddingTop:"50px",paddingRight:50},children:(0,o.jsx)(c.default,{span:18,children:(0,o.jsxs)(h.default,{style:{padding:"20px",marginBottom:"20px"},children:[(0,o.jsxs)(v.default,{current:Q,style:{marginBottom:"20px"},children:[(0,o.jsx)($,{title:"Book Info"}),(0,o.jsx)($,{title:"Volumes and Chapters"}),(0,o.jsx)($,{title:"Review and Publish"})]}),0===Q&&(0,o.jsxs)(h.default,{children:[(0,o.jsx)("h1",{children:"Create a new Book"}),(0,o.jsx)(d.default,{value:E,size:"large",placeholder:"Give your post a title",onChange:e=>{O(e.target.value)}}),(0,o.jsx)("br",{}),(0,o.jsx)("br",{}),(0,o.jsxs)(u.default,{style:{margin:"10px 0px 10px 0px",width:"100%"},onClick:()=>K({...G,showMediaModal:!0}),children:[(0,o.jsx)(b.Z,{})," Cover Image"]}),(null==G?void 0:G.selected)?(0,o.jsxs)("div",{style:{marginTop:"15px",position:"relative",cursor:"pointer",overflow:"hidden",transition:"transform 0.3s"},className:"image-container",onMouseEnter:()=>{let e=document.querySelector(".overlay");e.style.opacity=1},onMouseLeave:()=>{let e=document.querySelector(".overlay");e.style.opacity=0},onClick:()=>{if(null==G?void 0:G.selected){var e;ei(null==G?void 0:null===(e=G.selected)||void 0===e?void 0:e.url),eo(!0)}},children:[(0,o.jsx)("img",{style:{width:"100%",transition:"transform 0.3s"},src:null==G?void 0:null===(l=G.selected)||void 0===l?void 0:l.url,alt:"Image"}),(0,o.jsx)("div",{className:"overlay",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",background:"rgba(0, 0, 0, 0.5)",color:"white",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",opacity:0,transition:"opacity 0.3s"},children:(0,o.jsxs)("div",{className:"overlay-content",style:{textAlign:"center"},children:[(0,o.jsx)(C.default,{style:{fontSize:"25px",color:"white"}}),(0,o.jsx)("br",{}),"Click to Preview"]})})]}):(null==J?void 0:J.url)?(0,o.jsxs)("div",{style:{marginTop:"15px",position:"relative",cursor:"pointer",overflow:"hidden",transition:"transform 0.3s"},className:"image-container",onMouseEnter:()=>{let e=document.querySelector(".overlay");e.style.opacity=1},onMouseLeave:()=>{let e=document.querySelector(".overlay");e.style.opacity=0},onClick:()=>{if(null==G?void 0:G.selected){var e;ei(null==G?void 0:null===(e=G.selected)||void 0===e?void 0:e.url),eo(!0)}},children:[(0,o.jsx)("img",{style:{width:"100%",transition:"transform 0.3s"},src:null==J?void 0:J.url,alt:"Image"}),(0,o.jsx)("div",{className:"overlay",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",background:"rgba(0, 0, 0, 0.5)",color:"white",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",opacity:0,transition:"opacity 0.3s"},children:(0,o.jsxs)("div",{className:"overlay-content",style:{textAlign:"center"},children:[(0,o.jsx)(C.default,{style:{fontSize:"25px",color:"white"}}),(0,o.jsx)("br",{}),"Click to Preview"]})})]}):"",(0,o.jsx)("br",{}),(0,o.jsx)(u.default,{style:{margin:"10px 0px 10px 0px",width:"100%"},type:"primary",onClick:em,children:"Next"})]}),1===Q&&(0,o.jsxs)(h.default,{style:{marginBottom:"20px"},children:[(0,o.jsx)("h1",{children:"Volumes and Chapters"}),(0,o.jsx)(m.default,{accordion:!0,children:ee.map((e,t)=>(0,o.jsxs)(T,{header:"Volume ".concat(t+1),children:[(0,o.jsx)(d.default,{value:e.volume,size:"large",placeholder:"Volume ".concat(t+1),onChange:e=>{let l=[...ee];l[t].volume=e.target.value,et(l)}}),(0,o.jsx)("div",{style:{marginBottom:"10px"}}),(0,o.jsx)(x.default,{tabPosition:"left",children:e.chapters.map((e,l)=>(0,o.jsxs)(A,{tab:"Chapter ".concat(l+1),children:[(0,o.jsxs)("div",{style:{marginBottom:"10px"},children:[(0,o.jsxs)(u.default,{style:{marginRight:"8px"},type:"danger",onClick:()=>ev(t,l),children:["Remove Chapter ",l+1]}),(0,o.jsx)("span",{children:"Chapter ".concat(l+1,": ").concat(e.name)})]}),(0,o.jsx)(d.default,{value:e.name,placeholder:"Chapter ".concat(l+1," Name"),onChange:e=>{let o=[...ee];o[t].chapters[l].name=e.target.value,et(o)}}),(0,o.jsx)("div",{style:B,children:(0,o.jsx)(M,{modules:P,formats:z,placeholder:"Compose here...",value:e.content,onChange:(o,a,i,n)=>{let s=[...ee];s[t].chapters[l].content=o,et(s);let r="".concat(t,"-").concat(l);Z({...g,[r]:{content:o,name:"Chapter ".concat(l+1,": ").concat(e.name)}});let c="post-edit-chapter-".concat(r);localStorage.setItem(c,JSON.stringify({content:o,name:"Chapter ".concat(l+1,": ").concat(e.name)}))},theme:"snow",style:{height:"400px",marginTop:"10px"}})})]},"chapter-".concat(t,"-").concat(l)))}),(0,o.jsx)(u.default,{style:{margin:"10px 0px 20px",width:"100%"},type:"dashed",icon:(0,o.jsx)(w.default,{}),onClick:()=>{let e=[...ee],l=e[t].chapters.length-1,o=l>=0?Math.max(...e[t].chapters.map(e=>e.chapter))+1:1;e[t].chapters.push({name:"Chapter ".concat(o),chapter:o,content:""}),et(e)},children:"Add Chapter"}),(0,o.jsxs)(u.default,{style:{margin:"10px 0px 20px",width:"100%"},onClick:()=>ef(t),children:["Remove Volume ",t+1]})]},"volume-".concat(t)))}),(0,o.jsx)(u.default,{style:{margin:"10px 0px 20px",width:"100%"},type:"dashed",icon:(0,o.jsx)(w.default,{}),onClick:()=>{et([...ee,{volume:"",chapters:[{chapter:"",content:""}]}])},children:"Add Volume"}),(0,o.jsxs)(r.default,{justify:"space-between",style:{marginTop:"20px"},children:[(0,o.jsx)(c.default,{children:(0,o.jsx)(u.default,{type:"primary",onClick:ex,children:"Previous"})}),(0,o.jsx)(c.default,{children:(0,o.jsx)(u.default,{type:"primary",onClick:em,children:"Next"})})]})]}),2===Q&&(0,o.jsxs)(h.default,{style:{maxWidth:"800px",margin:"auto",marginTop:"20px"},children:[(0,o.jsx)("h1",{style:{textAlign:"center",marginBottom:"20px"},children:"Review and Publish"}),(null==G?void 0:G.selected)?(0,o.jsxs)("div",{style:{marginTop:"15px",position:"relative",cursor:"pointer",overflow:"hidden",transition:"transform 0.3s"},className:"image-container",onMouseEnter:()=>{let e=document.querySelector(".overlay");e.style.opacity=1},onMouseLeave:()=>{let e=document.querySelector(".overlay");e.style.opacity=0},onClick:()=>{if(null==G?void 0:G.selected){var e;ei(null==G?void 0:null===(e=G.selected)||void 0===e?void 0:e.url),eo(!0)}},children:[(0,o.jsx)("img",{style:{width:"100%",transition:"transform 0.3s"},src:null==G?void 0:null===(n=G.selected)||void 0===n?void 0:n.url,alt:"Image"}),(0,o.jsx)("div",{className:"overlay",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",background:"rgba(0, 0, 0, 0.5)",color:"white",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",opacity:0,transition:"opacity 0.3s"},children:(0,o.jsxs)("div",{className:"overlay-content",style:{textAlign:"center"},children:[(0,o.jsx)(C.default,{style:{fontSize:"25px",color:"white"}}),(0,o.jsx)("br",{}),"Click to Preview"]})})]}):(null==J?void 0:J.url)?(0,o.jsxs)("div",{style:{marginTop:"15px",position:"relative",cursor:"pointer",overflow:"hidden",transition:"transform 0.3s"},className:"image-container",onMouseEnter:()=>{let e=document.querySelector(".overlay");e.style.opacity=1},onMouseLeave:()=>{let e=document.querySelector(".overlay");e.style.opacity=0},onClick:()=>{if(null==G?void 0:G.selected){var e;ei(null==G?void 0:null===(e=G.selected)||void 0===e?void 0:e.url),eo(!0)}},children:[(0,o.jsx)("img",{style:{width:"100%",transition:"transform 0.3s"},src:null==J?void 0:J.url,alt:"Image"}),(0,o.jsx)("div",{className:"overlay",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",background:"rgba(0, 0, 0, 0.5)",color:"white",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",opacity:0,transition:"opacity 0.3s"},children:(0,o.jsxs)("div",{className:"overlay-content",style:{textAlign:"center"},children:[(0,o.jsx)(C.default,{style:{fontSize:"25px",color:"white"}}),(0,o.jsx)("br",{}),"Click to Preview"]})})]}):"",(0,o.jsx)("h2",{children:"Book Title:"}),(0,o.jsx)("p",{children:E}),(0,o.jsx)("h2",{children:"Volumes and Chapters:"}),(0,o.jsx)(x.default,{defaultActiveKey:"0",type:"card",style:{marginBottom:"20px"},children:ee.map((e,t)=>(0,o.jsx)(A,{tab:"Volume ".concat(t+1,": ").concat(e.volume),children:(0,o.jsx)(x.default,{type:"card",children:e.chapters.map((e,l)=>{var a;let i="".concat(t,"-").concat(l),n=(null===(a=g[i])||void 0===a?void 0:a.content)||"",s=e.content||"";return(0,o.jsx)(A,{tab:"Chapter ".concat(l+1,": ").concat(e.name),children:(0,o.jsx)("div",{dangerouslySetInnerHTML:{__html:s!==n?s:n},style:{fontSize:"1.2rem",lineHeight:"1.6",padding:"20px"}})},i)})})},t.toString()))}),(0,o.jsx)("h2",{children:"Categories:"}),(0,o.jsx)("h4",{children:"Select categories for your post:"}),(0,o.jsx)(s.default,{mode:"multiple",allowClear:!0,placeholder:"Select categories",style:{width:"100%"},value:en,onChange:e=>es(e),children:R.map(e=>(0,o.jsx)(_,{children:e.name},e.name))}),(0,o.jsx)("div",{style:{marginBottom:"10px"}}),(0,o.jsx)(u.default,{style:{width:"100%",marginBottom:"10px"},type:"primary",loading:U,icon:(0,o.jsx)(S.default,{}),onClick:()=>{if(0===en.length){y.Am.error("Please choose at least one category before publishing.");return}ep()},children:"Publish"}),(0,o.jsx)(u.default,{style:{margin:"10px 0px 10px 0px",width:"100%"},type:"primary",onClick:ex,children:"Previous"})]})]})})}),(0,o.jsx)(N.Z,{visible:el,imageUrl:ea,onClose:()=>eo(!1)}),(0,o.jsxs)(p.default,{title:"Preview",centered:!0,visible:H,onOk:()=>Y(!1),onCancel:()=>Y(!1),width:720,footer:null,children:[(0,o.jsx)("h1",{style:{fontSize:"1.2rem",lineHeight:"1.6"},children:E}),(0,o.jsx)("div",{dangerouslySetInnerHTML:{__html:g},style:{fontSize:"1.2rem",lineHeight:"1.6"}})]}),(0,o.jsx)(p.default,{visible:G.showMediaModal,title:"Media",onOk:()=>K({...G,showMediaModal:!1}),onCancel:()=>K({...G,showMediaModal:!1}),width:720,footer:null,children:(0,o.jsx)(k.Z,{style:{fontSize:"1.2rem",lineHeight:"1.6"}})})]})}}}]);