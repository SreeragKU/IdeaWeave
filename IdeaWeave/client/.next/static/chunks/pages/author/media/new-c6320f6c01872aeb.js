(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4922],{13864:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M942.2 486.2C847.4 286.5 704.1 186 512 186c-192.2 0-335.4 100.5-430.2 300.3a60.3 60.3 0 000 51.5C176.6 737.5 319.9 838 512 838c192.2 0 335.4-100.5 430.2-300.3 7.7-16.2 7.7-35 0-51.5zM512 766c-161.3 0-279.4-81.8-362.7-254C232.6 339.8 350.7 258 512 258c161.3 0 279.4 81.8 362.7 254C791.5 684.2 673.4 766 512 766zm-4-430c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm0 288c-61.9 0-112-50.1-112-112s50.1-112 112-112 112 50.1 112 112-50.1 112-112 112z"}}]},name:"eye",theme:"outlined"}},14059:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M878.3 392.1L631.9 145.7c-6.5-6.5-15-9.7-23.5-9.7s-17 3.2-23.5 9.7L423.8 306.9c-12.2-1.4-24.5-2-36.8-2-73.2 0-146.4 24.1-206.5 72.3a33.23 33.23 0 00-2.7 49.4l181.7 181.7-215.4 215.2a15.8 15.8 0 00-4.6 9.8l-3.4 37.2c-.9 9.4 6.6 17.4 15.9 17.4.5 0 1 0 1.5-.1l37.2-3.4c3.7-.3 7.2-2 9.8-4.6l215.4-215.4 181.7 181.7c6.5 6.5 15 9.7 23.5 9.7 9.7 0 19.3-4.2 25.9-12.4 56.3-70.3 79.7-158.3 70.2-243.4l161.1-161.1c12.9-12.8 12.9-33.8 0-46.8zM666.2 549.3l-24.5 24.5 3.8 34.4a259.92 259.92 0 01-30.4 153.9L262 408.8c12.9-7.1 26.3-13.1 40.3-17.9 27.2-9.4 55.7-14.1 84.7-14.1 9.6 0 19.3.5 28.9 1.6l34.4 3.8 24.5-24.5L608.5 224 800 415.5 666.2 549.3z"}}]},name:"pushpin",theme:"outlined"}},90306:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M400 317.7h73.9V656c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V317.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 163a8 8 0 00-12.6 0l-112 141.7c-4.1 5.3-.4 13 6.3 13zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z"}}]},name:"upload",theme:"outlined"}},29918:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,n=(a=r(42419))&&a.__esModule?a:{default:a};t.default=n,e.exports=n},42419:function(e,t,r){"use strict";var a=r(64836),n=r(18698);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=a(r(42122)),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var r=u(t);if(r&&r.has(e))return r.get(e);var a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=i?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}return a.default=e,r&&r.set(e,a),a}(r(67294)),o=a(r(13864)),s=a(r(92074));function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(u=function(e){return e?r:t})(e)}var c=function(e,t){return l.createElement(s.default,(0,i.default)((0,i.default)({},e),{},{ref:t,icon:o.default}))};c.displayName="EyeOutlined";var d=l.forwardRef(c);t.default=d},9470:function(e,t,r){"use strict";var a=r(64836),n=r(18698);t.Z=void 0;var i=a(r(42122)),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var r=u(t);if(r&&r.has(e))return r.get(e);var a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=i?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}return a.default=e,r&&r.set(e,a),a}(r(67294)),o=a(r(14059)),s=a(r(92074));function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(u=function(e){return e?r:t})(e)}var c=function(e,t){return l.createElement(s.default,(0,i.default)((0,i.default)({},e),{},{ref:t,icon:o.default}))};c.displayName="PushpinOutlined";var d=l.forwardRef(c);t.Z=d},35855:function(e,t,r){"use strict";var a=r(64836),n=r(18698);t.Z=void 0;var i=a(r(42122)),l=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==n(e)&&"function"!=typeof e)return{default:e};var r=u(t);if(r&&r.has(e))return r.get(e);var a={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var l in e)if("default"!==l&&Object.prototype.hasOwnProperty.call(e,l)){var o=i?Object.getOwnPropertyDescriptor(e,l):null;o&&(o.get||o.set)?Object.defineProperty(a,l,o):a[l]=e[l]}return a.default=e,r&&r.set(e,a),a}(r(67294)),o=a(r(90306)),s=a(r(92074));function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(u=function(e){return e?r:t})(e)}var c=function(e,t){return l.createElement(s.default,(0,i.default)((0,i.default)({},e),{},{ref:t,icon:o.default}))};c.displayName="UploadOutlined";var d=l.forwardRef(c);t.Z=d},21921:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/author/media/new",function(){return r(83866)}])},49923:function(e,t,r){"use strict";var a=r(85893),n=r(67294),i=r(11163),l=r(4851);t.Z=e=>{let{path:t="/"}=e,[r,o]=(0,n.useState)(3),s=(0,i.useRouter)();return(0,n.useEffect)(()=>{let e=setInterval(()=>{o(r-1)},1e3);return 0===r&&(clearInterval(e),s.push(t)),()=>clearInterval(e)},[r]),(0,a.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:(0,a.jsx)(l.default,{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",fontSize:"50px",color:"red"}})})}},91161:function(e,t,r){"use strict";r.d(t,{Z:function(){return _}});var a=r(85893),n=r(67294),i=r(16373),l=r(12386),o=r(41664),s=r.n(o),u=r(9470),c=r(26401),d=r(35741),f=r(27478),h=r(46403),p=r(63521),v=r(42074),m=r(42567);let{SubMenu:y}=l.default,{Sider:j}=i.default;var x=()=>{var e,t,r,i;let[o,x]=(0,n.useState)(""),[b,w]=(0,n.useState)(""),[g,O]=(0,n.useContext)(v.V),[_]=(0,n.useContext)(m.N),[k,M]=(0,n.useState)(!1),I=()=>{M(window.innerWidth<1e3)};(0,n.useEffect)(()=>{x(window.location.pathname);let e=window.location.pathname.split("/");return e.length>=3?w("/".concat(e[1])):w(""),window.addEventListener("resize",I),()=>{window.removeEventListener("resize",I)}},[]),(0,n.useEffect)(()=>{I()},[]);let P={sider:{width:k?50:100,height:"100vh",transition:"width 0.3s cubic-bezier(0.645, 0.045, 0.355, 1)",overflow:"hidden",paddingTop:"64px"},fixedSider:{position:"fixed",top:0,left:0,height:"100vh",zIndex:1e3,background:"dark"===_?"#001529":"#fff",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},menu:{background:"dark"===_?"#001529":"#fff",height:"calc(100% - 64px)",overflowY:"auto",overflowX:"hidden",scrollbarWidth:"thin",WebkitOverflowScrolling:"touch"},item:{background:"transparent",transition:"background 0.3s"},activeItem:{background:"dark"===_?"#007F7F":"#00BFFF",color:"#fff"},activeSubMenu:{background:"dark"===_?"#007F7F":"#00BFFF",color:"#fff",transition:"width 0.3s cubic-bezier(0.645, 0.045, 0.355, 1) 0.1s"}};return(0,a.jsx)(j,{collapsible:!0,collapsed:k,onCollapse:()=>M(!k),style:{...P.sider,...P.fixedSider},children:(0,a.jsxs)(l.default,{defaultOpenKeys:["2","6","10"],mode:"inline",inlineCollapsed:k,selectedKeys:[o],style:P.menu,theme:_,children:[(0,a.jsx)(l.default.Item,{icon:(0,a.jsx)(d.Z,{}),className:"/author"===o?"active":"",style:"/author"===o?P.activeItem:P.item,children:(0,a.jsx)(s(),{href:"/author",children:"Dashboard"})},"/author"),(0,a.jsx)(l.default.Item,{icon:(0,a.jsx)(f.Z,{}),className:"/author/library"===o?"active":"",style:"/author/library"===o?P.activeItem:P.item,children:(0,a.jsx)(s(),{href:"/author/library",children:"Library"})},"/author/library"),(0,a.jsxs)(y,{icon:(0,a.jsx)(u.Z,{}),title:"Posts",className:"/author"===b?"active":"",style:"/author"===b?P.activeSubMenu:{},children:[(0,a.jsx)(l.default.Item,{className:"/author/posts"===o?"active":"",style:"/author/posts"===o?P.activeItem:P.item,children:(0,a.jsx)(s(),{href:"/author/posts",children:"All Books"})},"/author/posts"),(0,a.jsx)(l.default.Item,{className:"/author/posts/drafts"===o?"active":"",style:"/author/posts/drafts"===o?P.activeItem:P.item,children:(0,a.jsx)(s(),{href:"/author/posts/drafts",children:"All Drafts"})},"/author/drafts"),(0,a.jsx)(l.default.Item,{className:"/author/posts/new"===o?"active":"",style:"/author/posts/new"===o?P.activeItem:P.item,children:(0,a.jsx)(s(),{href:"/author/posts/new",children:"Add New Book"})},"/author/posts/new")]},"2"),(0,a.jsxs)(y,{icon:(0,a.jsx)(c.Z,{}),title:"Media",children:[(0,a.jsx)(l.default.Item,{className:"/author/media/library"===o?"active":"",style:"/author/media/library"===o?P.activeItem:P.item,children:(0,a.jsx)(s(),{href:"/author/media/library",children:"Media Library"})},"/author/media/library"),(0,a.jsx)(l.default.Item,{className:"/author/media/new"===o?"active":"",style:"/author/media/new"===o?P.activeItem:P.item,children:(0,a.jsx)(s(),{href:"/author/media/new",children:"Add New Media"})},"/author/media/new")]},"6"),(0,a.jsx)(l.default.Item,{icon:(0,a.jsx)(p.Z,{}),className:"/author/comments"===o?"active":"",style:"/author/comments"===o?P.activeItem:P.item,children:(0,a.jsx)(s(),{href:"/author/comments",children:"Comments"})},"/author/comments"),(0,a.jsx)(l.default.Item,{icon:(0,a.jsx)(h.Z,{}),className:o==="/author/".concat(null==g?void 0:null===(e=g.user)||void 0===e?void 0:e._id)?"active":"",style:o==="/author/".concat(null==g?void 0:null===(t=g.user)||void 0===t?void 0:t._id)?P.activeItem:P.item,children:(0,a.jsx)(s(),{href:"/author/".concat(null==g?void 0:null===(r=g.user)||void 0===r?void 0:r._id),children:"Profile"})},"/author/".concat(null==g?void 0:null===(i=g.user)||void 0===i?void 0:i._id))]})})},b=r(11163),w=r(6154),g=r(49923);let{Content:O}=i.default;function _(e){let{children:t}=e,[r,l]=(0,n.useContext)(v.V),[o,s]=(0,n.useState)(!0),[u,c]=(0,n.useState)(!0),d=(0,b.useRouter)();(0,n.useEffect)(()=>{(null==r?void 0:r.token)&&f()},[null==r?void 0:r.token]);let f=async()=>{try{let{data:e}=await w.Z.get("/current-author");s(!1)}catch(e){console.log(e),d.push("/")}};return o?(0,a.jsx)(g.Z,{}):(0,a.jsxs)(i.default,{children:[(0,a.jsx)(x,{isOpen:u,toggleNav:()=>{c(!u)}}),(0,a.jsx)(i.default,{style:{marginLeft:u?90:80,transition:"margin 0.5s"},children:(0,a.jsx)(O,{style:{padding:"10px"},children:t})})]})}},93338:function(e,t,r){"use strict";var a=r(85893),n=r(67294),i=r(28465),l=r(11187),o=r(65400),s=r(42074),u=r(35855),c=r(94212),d=r(11163);t.Z=e=>{let{redirectToLibrary:t=!1,page:r="admin"}=e,[f,h]=(0,n.useContext)(s.V),[p,v]=(0,n.useContext)(c.Y),m=(0,d.useRouter)(),y={name:"file",action:"".concat("https://ideaweave-backend.onrender.com/api","/upload-image-file"),headers:{Authorization:"Bearer ".concat(f.token)},onChange(e){"uploading"!==e.file.status&&console.log(e.file,e.fileList),"done"===e.file.status?(l.default.success("".concat(e.file.name," file uploaded successfully")),v({images:[...p.images,e.file.response],selected:e.file.response,showMediaModal:!1}),t&&m.push("/".concat(r,"/media/library"))):"error"===e.file.status&&l.default.error("".concat(e.file.name," file upload failed."))}};return(0,a.jsxs)("div",{children:[(0,a.jsx)("style",{children:"\n          .ant-upload-list-item-card-actions {\n            display: none;\n          }\n        "}),(0,a.jsx)(i.default,{...y,maxCount:1,children:(0,a.jsx)(o.default,{icon:(0,a.jsx)(u.Z,{}),children:"Click to Upload"})})]})}},83866:function(e,t,r){"use strict";r.r(t);var a=r(85893),n=r(55673),i=r(5789),l=r(91161),o=r(93338);t.default=function(){return(0,a.jsx)(l.Z,{children:(0,a.jsx)(n.default,{style:{paddingLeft:80,marginTop:40,paddingRight:50},children:(0,a.jsx)(i.default,{span:24,children:(0,a.jsx)("div",{style:{padding:100,textAlign:"center"},children:(0,a.jsx)(o.Z,{redirectToLibrary:!0,page:"author"})})})})})}}},function(e){e.O(0,[5584,5400,9009,4806,8465,9774,2888,179],function(){return e(e.s=21921)}),_N_E=e.O()}]);