(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8002],{49869:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/success",function(){return a(67209)}])},67209:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return b}});var i=a(85893),n=a(67294),r=a(42074),l=a(70302),s=a(53740),o=a(73818),c=a(10149),u=a(8448),d=a(59361),p=a(65400),x=a(6154),m=a(91819);a(18159);let{Title:h,Paragraph:g,Text:f}=s.default;var y=()=>{let[e,t]=(0,n.useContext)(r.V),[a,s]=(0,n.useState)(null),[y,b]=(0,n.useState)(!0);(0,n.useEffect)(()=>{e.user&&e.user._id&&D(e.user._id)},[e.user]);let D=async t=>{try{let a=await x.Z.get("/subscription/".concat(t),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e.token)}});if(200===a.status){let e=a.data;s(e)}else console.error("Failed to fetch subscription details:",a.status)}catch(e){console.error("Error fetching subscription details:",e)}finally{b(!1)}};return(0,i.jsxs)("div",{style:{textAlign:"center",padding:"20px",fontFamily:"Arial, sans-serif",color:"#333"},children:[(0,i.jsx)(h,{level:2,style:{color:"#1890ff",marginTop:"50px"},children:"\uD83C\uDF1F Hooray! \uD83C\uDF89"}),(0,i.jsxs)(g,{children:[(0,i.jsx)(f,{type:"warning",strong:!0,children:"Congratulations!"})," ","Your subscription is now active for",(0,i.jsxs)(f,{strong:!0,style:{color:"#1890ff"},children:[" ",null==a?void 0:a.remainingTimeInDays," days"]}),". We're excited to embark on this journey with you!."]}),y?(0,i.jsx)(c.Z,{active:!0}):a?(0,i.jsx)(l.default,{style:{maxWidth:"800px",margin:"auto",marginTop:"20px",boxShadow:"0px 4px 8px rgba(0, 0, 0, 0.1)",borderRadius:"8px",padding:"30px"},children:a.receiptDetails?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(h,{level:3,children:"Receipt Details"}),(0,i.jsxs)(u.default,{bordered:!0,column:2,children:[(0,i.jsx)(u.default.Item,{label:"Receipt Number",children:a.receiptDetails.receiptNumber}),(0,i.jsx)(u.default.Item,{label:"Amount Paid",children:(0,i.jsxs)(d.Z,{color:"green",style:{padding:"8px"},children:["â‚¹",a.receiptDetails.amountPaid/100]})}),(0,i.jsx)(u.default.Item,{label:"Payment Status",children:a.receiptDetails.paymentStatus}),(0,i.jsx)(u.default.Item,{label:"Payment Date",children:new Date(a.receiptDetails.paymentDate).toLocaleDateString()})]}),(0,i.jsx)(p.default,{type:"primary",style:{marginTop:"20px"},onClick:()=>{let e=null==a?void 0:a.receiptDetails;if(e){let t=new m.default;t.setFont("helvetica"),t.setFontSize(14),t.text("IdeaWeave",105,20,"center"),t.setFontSize(12),t.text("Subscription Receipt",105,30,"center"),t.line(20,35,190,35),t.text("Company Information:",20,45),t.text("IdeaWeave Project.",20,55),t.text("Sreerag, Regular MCA",20,65),t.text("Amal Jyothi College of Engineering, Kottayam, Kerala, India",20,75),t.text("Kottayam, Kerala, India",20,75),t.text("Email: ideaweavep@gmail.com",20,85),t.text("Receipt Details:",20,105);let a=[["Receipt Number",e.receiptNumber],["Amount Paid","INR ".concat((e.amountPaid/100).toFixed(2))],["Payment Status",e.paymentStatus],["Payment Date",new Date(e.paymentDate).toLocaleDateString()]];t.autoTable({startY:115,head:[["Description","Value"]],body:a,theme:"grid",margin:{top:110}}),t.line(20,t.internal.pageSize.height-20,190,t.internal.pageSize.height-20),t.text("Authorized Signature",105,t.internal.pageSize.height-10,"center"),t.save("subscription_receipt.pdf")}},children:"Download Receipt"})]}):(0,i.jsx)(o.ZP,{status:"warning",title:"No receipt details available",subTitle:"Please check back later."})}):(0,i.jsx)(o.ZP,{status:"error",title:"Failed to fetch subscription details",subTitle:"Please try again later."})]})},b=()=>(0,i.jsx)(y,{})}},function(e){e.O(0,[7847,5584,5400,4104,1350,3740,8931,8705,9774,2888,179],function(){return e(e.s=49869)}),_N_E=e.O()}]);