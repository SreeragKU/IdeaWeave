(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6515],{52306:function(e,t,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/post/[slug]",function(){return l(24922)}])},52988:function(e,t,l){"use strict";var n=l(85893),o=l(67294),a=l(42074),i=l(51024),r=l(65400);let{TextArea:s}=i.default;t.Z=e=>{let{comment:t,setComment:l,handleSubmit:i,loading:c}=e,[d,u]=(0,o.useContext)(a.V);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("br",{}),(0,n.jsx)(s,{value:t,onChange:e=>l(e.target.value),placeholder:"Write a comment...(Max: 2000)",rows:"4",disabled:(null==d?void 0:d.user)===null&&(null==d?void 0:d.token)==="",maxLength:2e3}),(0,n.jsx)(r.default,{style:{marginTop:5},loading:c,type:"primary",disabled:""===t||(null==d?void 0:d.user)===null&&(null==d?void 0:d.token)==="",onClick:i,children:"Post"})]})}},58363:function(e,t,l){"use strict";var n=l(67294),o=l(6154);t.Z=()=>{let[e,t]=(0,n.useState)([]);return(0,n.useEffect)(()=>{let e=async()=>{try{let{data:e}=await o.Z.get("/posts-page/1");t(e)}catch(e){console.log(e)}};e()},[]),{latestPosts:e}}},29318:function(e,t,l){"use strict";l.r(t);var n=l(85893);l(67294);var o=l(41664),a=l.n(o),i=l(53740),r=l(27484),s=l.n(r);let{Title:c}=i.default;t.default=e=>{var t,l,o;let{post:i}=e;return(0,n.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:(0,n.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",padding:"20px"},children:[(0,n.jsx)("div",{style:{width:"300px",height:"300px",display:"flex",justifyContent:"center",alignItems:"center",overflow:"hidden",borderRadius:"50%",border:"2px solid #ccc"},children:(0,n.jsx)("img",{src:(null==i?void 0:null===(t=i.coverImage)||void 0===t?void 0:t.url)||"/images/default.jpeg",alt:(null==i?void 0:i.title)||"No Title",style:{width:"100%",height:"100%",objectFit:"cover"}})}),(0,n.jsxs)("div",{style:{marginTop:"20px",textAlign:"center"},children:[(0,n.jsx)(c,{style:{fontSize:"2rem",marginBottom:"10px"},children:(null==i?void 0:i.title)||"No Title"}),(0,n.jsxs)("p",{style:{fontSize:"0.9rem",color:"#888"},children:["Author: ",(null==i?void 0:null===(l=i.postedBy)||void 0===l?void 0:l.name)||"Unknown"," "]}),(0,n.jsxs)("p",{style:{fontSize:"0.9rem",color:"#888"},children:[s()(null==i?void 0:i.createdAt).format("D MMMM, YYYY h:mm A")," / 0 Comments / in"," ",null==i?void 0:null===(o=i.categories)||void 0===o?void 0:o.map(e=>(0,n.jsx)("span",{style:{marginRight:"10px"},children:(0,n.jsxs)(a(),{href:"/category/".concat(null==e?void 0:e.slug),children:["@",null==e?void 0:e.name]})},null==e?void 0:e._id))]})]})]})})}},24922:function(e,t,l){"use strict";l.r(t),l.d(t,{__N_SSP:function(){return $},default:function(){return ee}});var n=l(85893),o=l(67294),a=l(6154),i=l(11163),r=l(55673),s=l(5789),c=l(70302),d=l(53740),u=l(65400),b=l(64749),h=l(56590),p=l(84960),m=l(74253),x=l(9008),v=l.n(x),f=l(5152),g=l.n(f),y=l(29318),j=l(16373),S=l(56697),k=l(46019),C=l(34463),w=l(69650),I=l(40139),A=l(21358),_=l(1765),F=l(4851),N=l(69926),Z=l(68258),T=l(61193),z=l.n(T),M=l(42567);let B=l(88758),{Sider:E}=j.default,L=e=>{let{visible:t,onCancel:l}=e,a=[{label:"Email",value:"email",component:Z.cG,icon:Z.LQ},{label:"Facebook",value:"facebook",component:Z.Dk,icon:Z.Vq},{label:"Twitter",value:"twitter",component:Z.B,icon:Z.b0},{label:"WhatsApp",value:"whatsapp",component:Z.N0,icon:Z.ud},{label:"Reddit",value:"reddit",component:Z.iR,icon:Z.MP},{label:"Telegram",value:"telegram",component:Z.tq,icon:Z.YG}],[i]=(0,o.useContext)(M.N),r=(0,N.q_)({background:t?"dark"===i?"linear-gradient(135deg, #1a0d5a 0%, #004080 100%)":"linear-gradient(135deg, #a6c0fe 0%, #f0f2f5 100%)":"dark"===i?"linear-gradient(135deg, #f0f2f5 0%, #f0f2f5 100%)":"linear-gradient(135deg, #a6c0fe 0%, #f0f2f5 100%)"}),s=(0,N.q_)({opacity:t?1:0,transform:t?"translateY(0%)":"translateY(-100%)"}),c=e=>{console.log("Sharing on ".concat(e)),l()};return(0,n.jsx)(S.default,{title:"Share on Social Media",visible:t,onCancel:l,footer:[(0,n.jsx)(u.default,{onClick:l,children:"Cancel"},"cancel")],bodyStyle:{background:r.background,transition:"background 0.5s",display:"flex",flexDirection:"column",alignItems:"center"},maskStyle:{background:"rgba(0, 0, 0, 0.7)"},children:(0,n.jsx)(N.q.div,{style:s,children:(0,n.jsx)("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"center"},children:a.map(e=>{let{label:l,value:o,component:a,icon:i}=e;return(0,n.jsxs)(N.q.div,{style:{width:"100px",height:"100px",transform:t?"scale(1)":"scale(0.5)",margin:"10px",transition:"transform 0.5s",cursor:"pointer",boxShadow:"0px 4px 8px rgba(0, 0, 0, 0.1)",borderRadius:"50%",padding:"15px",background:r.background,display:"flex",flexDirection:"column",alignItems:"center"},onClick:()=>c(o),children:[(0,n.jsx)(a,{url:window.location.href,children:(0,n.jsx)(i,{size:45,round:!0})}),(0,n.jsx)("div",{style:{marginTop:"5px"},children:l})]},o)})})})})};var R=e=>{let{onZoomIn:t,onZoomOut:l,onThemeChange:a,postContent:i,post:r,currentVolume:s,currentChapter:c}=e,[d]=(0,o.useContext)(M.N),[u,b]=(0,o.useState)(!1),[h,p]=(0,o.useState)(null),[m,x]=(0,o.useState)(!1),[v,f]=(0,o.useState)(!1),[g,y]=(0,o.useState)(!1),j={bubbleContainer:{position:"fixed",top:"50px",left:"0",zIndex:"1000"},bubble:{color:"silver",padding:"10px",borderRadius:"50%",cursor:"grab",border:h?"3px solid silver":"1px solid silver",boxShadow:"0 0 5px rgba(0, 0, 0, 0.2)",width:"60px",height:"60px",display:"flex",justifyContent:"center",alignItems:"center",position:"relative",transition:"border-color 0.3s ease-in-out",borderColor:h?"gold":"silver",animation:h?"pulse 1.5s infinite":"none"},bubbleIcon:{color:h?"dark"===d?"rgba(255, 255, 255, 0.2)":"rgba(0, 0, 0, 0.2":"dark"===d?"white":"black",padding:"10px",borderRadius:"50%",cursor:"pointer",border:"1px solid silver",boxShadow:"0 0 5px rgba(0, 0, 0, 0.2)",width:"50px",height:"50px",display:"flex",justifyContent:"center",alignItems:"center",position:"absolute",transition:"border-color 0.3s ease-in-out",transform:"translate(-50%, -50%)"},bubbleIconLabel:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",fontSize:"14px",textAlign:"center",display:"none",padding:"5px",color:"dark"===d?"#fff":"#333",borderRadius:"50%",zIndex:1001}},[S,N]=(0,o.useState)({x:0,y:0}),Z=()=>{y(!0)},T=[{label:"Default",background:"#F0F2F5"},{label:"Fire",background:"#FF6B6B"},{label:"Ocean",background:"#36A2A6"},{label:"Forest",background:"#228B22"},{label:"Sunset",background:"#FFAC5D"},{label:"Midnight",background:"#20232A"}],E=e=>{if("speechSynthesis"in window){let t=window.speechSynthesis,l=new SpeechSynthesisUtterance(e);l.addEventListener("end",()=>{f(!1),p(null)}),t.speak(l)}else alert("Text-to-Speech is not supported in your browser.")},R=()=>{v?(q(),f(!1)):(P(),f(!0))},P=()=>{if(r&&i&&void 0!==s&&void 0!==c){let e=r.volumes[s].chapters[c].content,t=B(e),l=t.replace(/<u>/g,"").replace(/<\/u>/g,"");E(l)}},q=()=>{if("speechSynthesis"in window){let e=window.speechSynthesis;e.cancel()}},O=[{icon:(0,n.jsx)(k.default,{}),label:"ZoomIn"},{icon:(0,n.jsx)(C.default,{}),label:"ZoomOut"},{icon:(0,n.jsx)(w.Z,{}),label:"Share"},{icon:v?(0,n.jsx)(F.default,{}):(0,n.jsx)(_.Z,{}),label:"T2S"},{icon:(0,n.jsx)(I.Z,{}),label:"Bookmark"},{icon:(0,n.jsx)(A.Z,{}),label:"Translate"}],D=(e,t,l)=>{let n=360/t*e;return{x:l*Math.cos(n*Math.PI/180)+24,y:l*Math.sin(n*Math.PI/180)+25}},H=e=>{let t=document.querySelector('.bubbleIconLabel[data-label="'.concat(e,'"]'));t&&(t.style.display="block",p(e))},Y=e=>{let t=document.querySelector('.bubbleIconLabel[data-label="'.concat(e,'"]'));t&&(t.style.display="none")};return(0,n.jsxs)("div",{className:"bubble-container",style:j.bubbleContainer,children:[(0,n.jsx)(z(),{handle:".bubble",defaultPosition:S,bounds:"body",children:(0,n.jsxs)("div",{className:"bubble",style:{...j.bubble,animation:h?"none":"pulse 1.5s infinite"},onClick:()=>{u?(b(!1),p(null)):b(!0),x(!1)},children:[u&&O.map((e,o)=>{let{icon:a,label:i}=e,r=D(o,O.length,70);return(0,n.jsxs)("div",{className:"bubbleIcon",style:{...j.bubbleIcon,transform:"translate(-50%, -50%) translate(".concat(r.x,"px, ").concat(r.y,"px)"),borderColor:h===i?"gray":"silver",border:h===i?"4px solid":"1px solid silver"},onMouseEnter:()=>{H(i),p(i)},onMouseLeave:()=>{Y(i),p(null)},onClick:()=>{"ZoomIn"===i?t():"ZoomOut"===i?l():"T2S"===i?R():"Share"===i&&Z()},children:[a,(0,n.jsx)("div",{className:"bubbleIconLabel",style:j.bubbleIconLabel,"data-label":i,children:i})]},i)}),u&&T.map((e,o)=>{let{label:i,background:r,text:s}=e,c=D(o,T.length,130),d={...j.bubbleIconLabel,color:"#20232A"};return(0,n.jsxs)("div",{className:"bubbleIcon",style:{...j.bubbleIcon,transform:"translate(-50%, -50%) translate(".concat(c.x,"px, ").concat(c.y,"px)"),backgroundColor:r,color:s,border:h===i?"4px solid gray":"1px solid silver"},onMouseEnter:()=>{H(i),p(i)},onMouseLeave:()=>{Y(i),p(null)},onClick:()=>{"ZoomIn"===i?t():"ZoomOut"===i?l():a(i)},children:[(0,n.jsx)("div",{className:"bubbleIconCircle",style:{color:s},children:i}),(0,n.jsx)("div",{className:"bubbleIconLabel",style:d,"data-label":i,children:i})]},i)})]})}),(0,n.jsx)(L,{visible:g,onCancel:()=>{y(!1)},onShare:e=>{console.log("Sharing on ".concat(e)),y(!1)}}),(0,n.jsx)("style",{children:"\n          @keyframes pulse {\n            0%, 100% {\n              border-width: 2px;\n            }\n            50% {\n              border-width: 6px;\n            }\n          }\n        "})]})},P=l(27484),q=l.n(P),O=l(52988),D=l(58363),H=l(41664),Y=l.n(H),V=l(42074),G=l(86501),U=l(84110),W=l.n(U);q().extend(W());let{Title:X}=d.default,{Option:Q}=b.default,J=g()(()=>Promise.all([l.e(2937),l.e(1167)]).then(l.t.bind(l,71167,23)).then(e=>e.default),{loadableGenerated:{webpack:()=>[71167]},ssr:!1}),K={Default:{fontSize:1.2,lineHeight:1.6,backgroundColor:"#F0F2F5",color:"black"},Fire:{fontSize:1.3,lineHeight:1.7,backgroundColor:"#FF6B6B",color:"black"},Ocean:{fontSize:1.3,lineHeight:1.7,backgroundColor:"#36A2A6",color:"white"},Forest:{fontSize:1.3,lineHeight:1.7,backgroundColor:"#4CAF50",color:"white"},Sunset:{fontSize:1.3,lineHeight:1.7,backgroundColor:"#FFAC5D",color:"black"},Midnight:{fontSize:1.2,lineHeight:1.6,backgroundColor:"#20232A",color:"white"}};var $=!0,ee=e=>{var t,l,d,x,f;let{post:g,postComments:j}=e,S=(0,i.useRouter)(),[k,C]=(0,o.useState)(1),[w,I]=(0,o.useState)("Default"),[A,_]=(0,o.useState)(g?g.content:""),[F,N]=(0,o.useState)(0),[Z,T]=(0,o.useState)(0),[z,M]=(0,o.useState)(j),[B,E]=(0,o.useState)(""),[L,P]=(0,o.useState)(!1),{latestPosts:H}=(0,D.Z)(),[U,W]=(0,o.useContext)(V.V);(0,o.useEffect)(()=>{if(g&&g.volumes&&g.volumes.length>0){var e,t;C(1),_((null===(t=g.volumes[F])||void 0===t?void 0:null===(e=t.chapters[Z])||void 0===e?void 0:e.content)||"")}},[g,F,Z]),(0,o.useEffect)(()=>{g||S.push("/_error")},[g,S]),(0,o.useEffect)(()=>{if(g&&g.volumes&&g.volumes.length>0){var e,t;_((null===(t=g.volumes[F])||void 0===t?void 0:null===(e=t.chapters[Z])||void 0===e?void 0:e.content)||"")}},[k,g,F,Z]),(0,o.useEffect)(()=>{g&&g.volumes&&g.volumes[F]&&g.volumes[F].chapters&&g.volumes[F].chapters[Z]&&_(g.volumes[F].chapters[Z].content)},[g,F,Z]);let X=()=>{Z<g.volumes[F].chapters.length-1?T(Z+1):F<g.volumes.length-1&&(N(F+1),T(0))},$=()=>{Z>0?T(Z-1):F>0&&(N(F-1),T(g.volumes[F-1].chapters.length-1))},ee=e=>{let[t,l]=e.split(":").map(Number);N(t-1),T(l-1)},[et,el]=(0,o.useState)(!1);(0,o.useEffect)(()=>{el(!0),er()},[]);let en=0===F&&0===Z,eo=(null==g?void 0:g.volumes)&&F===g.volumes.length-1&&Z===(null===(l=g.volumes[F])||void 0===l?void 0:null===(t=l.chapters)||void 0===t?void 0:t.length)-1,ea=async()=>{try{P(!0);let{data:e}=await a.Z.post("/comment/".concat(g._id),{comment:B});M([e,...z]),E(""),G.Am.success("Comment posted successfully"),P(!1)}catch(e){console.log(e),P(!1)}},ei=async()=>{try{P(!0);let{data:e}=await a.Z.post("/add-to-library/".concat(g._id),{postId:g._id});e.success?G.Am.success("Added to library successfully"):G.Am.error("Failed to add to library"),P(!1)}catch(e){console.error(e),G.Am.error("An error occurred while adding to the library"),P(!1)}},er=()=>{if(el(!0),et){let e=document.querySelector(".ql-editor");e&&(e.style.fontSize="".concat(K[w].fontSize*k,"rem"),e.style.lineHeight="".concat(K[w].lineHeight*k),e.style.backgroundColor=K[w].backgroundColor,e.style.color=K[w].color,e.style.padding="16px")}};return(0,o.useEffect)(()=>{if(et){let e=document.querySelector(".ql-editor");e&&(e.style.fontSize="".concat(K[w].fontSize*k,"rem"),e.style.lineHeight="".concat(K[w].lineHeight*k),e.style.backgroundColor=K[w].backgroundColor,e.style.color=K[w].color,e.style.padding="16px")}},[k,w,et]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(R,{onZoomIn:()=>{k<2&&C(k+.1)},onZoomOut:()=>{k>.5&&C(k-.1)},onThemeChange:e=>{I(e)},onTextToSpeech:()=>{sendPostContentToBubbleNav(g.content)},postContent:A,post:g,currentVolume:F,currentChapter:Z}),(0,n.jsx)(y.default,{post:g}),(0,n.jsxs)(v(),{children:[(0,n.jsx)("title",{children:(null==g?void 0:g.title)||"Untitled Post"}),(0,n.jsx)("meta",{name:"description",content:(null==g?void 0:null===(d=g.content)||void 0===d?void 0:d.substring(0,160))||"No description available"})]}),(0,n.jsx)(r.default,{justify:"center",children:(0,n.jsxs)(s.default,{xs:24,xl:16,children:[U.token&&(0,n.jsx)(u.default,{type:"primary",onClick:ei,children:"Add to Library"}),(0,n.jsxs)(c.default,{children:[(0,n.jsxs)("div",{style:{marginBottom:16,textAlign:"center"},children:[(0,n.jsx)(u.default,{type:"primary",onClick:$,disabled:en,children:"Previous Chapter"})," ",(0,n.jsx)(b.default,{value:"".concat(F+1,":").concat(Z+1),style:{width:200,marginRight:8,borderRadius:8,boxShadow:"0 0 10px rgba(0, 0, 0, 0.1)"},dropdownStyle:{borderRadius:8},onChange:ee,children:null==g?void 0:null===(x=g.volumes)||void 0===x?void 0:x.map((e,t)=>(0,n.jsx)(b.default.OptGroup,{label:"Volume ".concat(t+1,": ").concat(e.volume),children:e.chapters.map((e,l)=>(0,n.jsx)(Q,{value:"".concat(t+1,":").concat(l+1),style:{padding:10},children:"".concat(e.name)},"".concat(t,"-").concat(l)))},"volume-".concat(t)))}),(0,n.jsx)(u.default,{type:"primary",onClick:X,disabled:eo,children:"Next Chapter"})," "]}),(0,n.jsx)("div",{style:{height:"650px",overflow:"auto"},children:(0,n.jsx)(J,{value:A,readOnly:!0,theme:"bubble",modules:{toolbar:!1},style:{visibility:et?"visible":"hidden"},onLoad:er})}),(0,n.jsxs)("div",{style:{marginBottom:16,textAlign:"center",marginTop:16},children:[(0,n.jsx)(u.default,{type:"primary",onClick:$,disabled:en,children:"Previous Chapter"})," ",(0,n.jsx)(b.default,{value:"".concat(F+1,":").concat(Z+1),style:{width:200,marginRight:8,borderRadius:8,boxShadow:"0 0 10px rgba(0, 0, 0, 0.1)"},dropdownStyle:{borderRadius:8},onChange:ee,children:null==g?void 0:null===(f=g.volumes)||void 0===f?void 0:f.map((e,t)=>(0,n.jsx)(b.default.OptGroup,{label:"Volume ".concat(t+1,": ").concat(e.volume),children:e.chapters.map((e,l)=>(0,n.jsx)(Q,{value:"".concat(t+1,":").concat(l+1),style:{padding:10},children:"".concat(e.name)},"".concat(t,"-").concat(l)))},"volume-".concat(t)))}),(0,n.jsx)(u.default,{type:"primary",onClick:X,disabled:eo,children:"Next Chapter"})," "]}),eo&&(0,n.jsxs)("div",{children:[(0,n.jsx)(m.Z,{level:2,style:{marginTop:20},children:"Latest Books"}),H.map(e=>(0,n.jsx)(Y(),{href:"/post/".concat(e.slug),children:(0,n.jsx)("h4",{children:e.title})},e._id))]}),(0,n.jsx)(O.Z,{comment:B,setComment:E,handleSubmit:ea,loading:L}),(0,n.jsx)("div",{style:{marginBottom:50},id:"commentSection"}),(0,n.jsx)(h.default,{itemLayout:"horizontal",dataSource:z,renderItem:e=>{var t,l,o;return(0,n.jsx)(h.default.Item,{id:e._id,children:(0,n.jsx)(h.default.Item.Meta,{avatar:(0,n.jsx)(p.ZP,{children:null==e?void 0:null===(l=e.postedBy)||void 0===l?void 0:null===(t=l.name)||void 0===t?void 0:t.charAt(0)}),title:null==e?void 0:null===(o=e.postedBy)||void 0===o?void 0:o.name,description:"".concat(e.content," - ").concat(q()(e.createdAt).fromNow())})},e._id)}})]})]})})]})}}},function(e){e.O(0,[5584,5400,4104,1024,1350,4749,6298,3740,6697,2476,4960,911,3943,9926,6084,9774,2888,179],function(){return e(e.s=52306)}),_N_E=e.O()}]);