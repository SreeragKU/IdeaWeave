(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2176],{31682:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]},name:"lock",theme:"outlined"}},79739:function(e,t,r){"use strict";var n=r(64836),s=r(18698);t.Z=void 0;var o=n(r(42122)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!==s(e)&&"function"!=typeof e)return{default:e};var r=u(t);if(r&&r.has(e))return r.get(e);var n={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(67294)),a=n(r(31682)),l=n(r(92074));function u(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(u=function(e){return e?r:t})(e)}var c=function(e,t){return i.createElement(l.default,(0,o.default)((0,o.default)({},e),{},{ref:t,icon:a.default}))};c.displayName="LockOutlined";var d=i.forwardRef(c);t.Z=d},87752:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/signin",function(){return r(36368)}])},36368:function(e,t,r){"use strict";r.r(t);var n=r(85893),s=r(67294),o=r(97538),i=r(51024),a=r(65400),l=r(5789),u=r(55673),c=r(79739),d=r(94119),f=r(34265),p=r(42419),h=r(4851),m=r(41664),v=r.n(m),x=r(42567),g=r(6154),j=r(42074),y=r(86501),b=r(11163);t.default=function(){let[e]=(0,s.useContext)(x.N),[t,r]=(0,s.useContext)(j.V),[m,w]=(0,s.useState)(!1),P=(0,b.useRouter)(),[_,k]=(0,s.useState)(!1),[O,Z]=(0,s.useState)(!1);if((0,s.useEffect)(()=>{(null==t?void 0:t.token)&&P.push("/")},[t]),O)return(0,n.jsx)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:(0,n.jsx)("h1",{children:"Your account has been disabled. Please contact support."})});if(m)return(0,n.jsx)(h.default,{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",fontSize:"50px",color:"red"}});let N=async e=>{try{w(!0);let{data:o}=await g.Z.post("/signin",e);if(null==o?void 0:o.error)"User not found"===o.error?y.ZP.error("User not found"):"Account is disabled"===o.error?Z(!0):y.ZP.error(o.error),w(!1);else{var t,n,s;r(o),localStorage.setItem("auth",JSON.stringify(o)),y.ZP.success("Successfully signed in"),(null==o?void 0:null===(t=o.user)||void 0===t?void 0:t.role)==="Admin"?P.push("/admin"):(null==o?void 0:null===(n=o.user)||void 0===n?void 0:n.role)==="Author"?P.push("/author"):(null==o?void 0:null===(s=o.user)||void 0===s?void 0:s.role)==="Subscriber"?P.push("/subscriber"):P.push("/unsubscriber")}}catch(e){console.log("err => ",e),w(!1),y.ZP.error("Signin failed. Try again.")}};return(0,n.jsx)(u.default,{children:(0,n.jsxs)(l.default,{span:8,offset:8,children:[(0,n.jsx)("h1",{style:{paddingTop:"100px"},children:"Sign In"}),(0,n.jsxs)(o.Z,{name:"normal_login",className:"login-form",onFinish:N,Q:!0,children:[(0,n.jsx)(o.Z.Item,{name:"email",rules:[{type:"email",message:"Please enter a valid email!"}],style:{marginBottom:"16px"},children:(0,n.jsx)(i.default,{prefix:(0,n.jsx)(d.Z,{className:"site-form-item-icon"}),placeholder:"Email",id:"em"})}),(0,n.jsx)(o.Z.Item,{name:"password",rules:[{required:!0,message:"Please input your Password!"},{pattern:/^(?=.*[A-Z])(?=.*[a-z])(?=.*\d)(?=.*[\W_]).{8,}$/,message:"Password must be at least 8 characters and contain at least one uppercase letter, one lowercase letter, one number, and one special character"}],style:{marginBottom:"16px"},children:(0,n.jsx)(i.default.Password,{prefix:(0,n.jsx)(c.Z,{className:"site-form-item-icon"}),type:_?"text":"password",placeholder:"Password",id:"ps",iconRender:t=>t?(0,n.jsx)(p.default,{style:{color:"dark"===e?"#fff":"#333"},onClick:()=>k(!_)}):(0,n.jsx)(f.default,{style:{color:"dark"===e?"#fff":"#333"},onClick:()=>k(!_)})})}),(0,n.jsx)("div",{children:(0,n.jsx)(v(),{href:"/forgot-password",children:"Forgot Password"})}),(0,n.jsx)("br",{}),(0,n.jsxs)(o.Z.Item,{children:[(0,n.jsx)(a.default,{type:"primary",id:"testid",htmlType:"submit",className:"login-form-button",children:"Login"}),(0,n.jsx)("br",{}),(0,n.jsx)("br",{}),"Or ",(0,n.jsx)(v(),{href:"/signup",children:"Register now!"})]})]})]})})}}},function(e){e.O(0,[5584,5400,4104,1024,7538,9774,2888,179],function(){return e(e.s=87752)}),_N_E=e.O()}]);