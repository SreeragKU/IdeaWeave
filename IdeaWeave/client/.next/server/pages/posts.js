"use strict";(()=>{var e={};e.id=2679,e.ids=[2679,2888,660],e.modules={5002:(e,t,r)=>{r.a(e,async(e,i)=>{try{r.r(t),r.d(t,{config:()=>b,default:()=>x,getServerSideProps:()=>m,getStaticPaths:()=>h,getStaticProps:()=>g,reportWebVitals:()=>f,routeModule:()=>w,unstable_getServerProps:()=>S,unstable_getServerSideProps:()=>q,unstable_getStaticParams:()=>y,unstable_getStaticPaths:()=>j,unstable_getStaticProps:()=>v});var s=r(7093),n=r(5244),o=r(1323),l=r(7481),a=r.n(l),d=r(7648),c=r(3043),u=e([d,c]);[d,c]=u.then?(await u)():u;let p=s.PagesRouteModule,x=(0,o.l)(c,"default"),g=(0,o.l)(c,"getStaticProps"),h=(0,o.l)(c,"getStaticPaths"),m=(0,o.l)(c,"getServerSideProps"),b=(0,o.l)(c,"config"),f=(0,o.l)(c,"reportWebVitals"),v=(0,o.l)(c,"unstable_getStaticProps"),j=(0,o.l)(c,"unstable_getStaticPaths"),y=(0,o.l)(c,"unstable_getStaticParams"),S=(0,o.l)(c,"unstable_getServerProps"),q=(0,o.l)(c,"unstable_getServerSideProps"),w=new p({definition:{kind:n.x.PAGES,page:"/posts",pathname:"/posts",bundlePath:"",filename:""},components:{App:d.default,Document:a()},userland:c});i()}catch(e){i(e)}})},8344:(e,t,r)=>{r.a(e,async(e,i)=>{try{r.d(t,{Z:()=>l});var s=r(6689),n=r(9648),o=e([n]);n=(o.then?(await o)():o)[0];let l=()=>{let[e,t]=(0,s.useState)([]);return(0,s.useEffect)(()=>{let e=async()=>{try{let{data:e}=await n.default.get("/category");t(e)}catch(e){console.log(e)}};e()},[]),{categories:e}};i()}catch(e){i(e)}})},3043:(e,t,r)=>{r.a(e,async(e,i)=>{try{r.r(t),r.d(t,{Posts:()=>W,default:()=>B,getServerSideProps:()=>R});var s=r(997),n=r(6689),o=r(9648),l=r(7050),a=r.n(l),d=r(8518),c=r.n(d),u=r(2317),p=r.n(u),x=r(5998),g=r.n(x),h=r(3800),m=r.n(h),b=r(3029),f=r.n(b),v=r(675),j=r.n(v),y=r(2278),S=r.n(y),q=r(968),w=r.n(q),P=r(1664),_=r.n(P),C=r(8344),k=e([o,C]);[o,C]=k.then?(await k)():k;let{Meta:A}=p(),{Search:O}=j(),W=({posts:e})=>{let[t,r]=(0,n.useState)(e),[i,l]=(0,n.useState)(e),[d,u]=(0,n.useState)(0),[x,h]=(0,n.useState)(1),[b,v]=(0,n.useState)(!1),[j,y]=(0,n.useState)(null),[q,P]=(0,n.useState)(""),[k,R]=(0,n.useState)([]),[W,B]=(0,n.useState)([]),{categories:E}=(0,C.Z)();(0,n.useEffect)(()=>{T()},[]),(0,n.useEffect)(()=>{l(e),r(e),R(e.slice(0,8))},[e]),(0,n.useEffect)(()=>{X(),I(),L()},[t,x]);let T=async()=>{try{let{data:e}=await o.default.get("/post-count");u(e)}catch(e){console.error(e)}},I=()=>{let e=t.filter(e=>e.commentCount>0).sort((e,t)=>t.commentCount-e.commentCount).slice(0,5);B(e)},L=()=>{let e=(x-1)*8,r=e+8,i=t.slice(e,r);R(i)},M=async e=>{P(e);let t=i.filter(t=>t.title.toLowerCase().includes(e.toLowerCase()));r(t),h(1),L()},X=()=>{let e=t.filter(e=>e.commentCount>0);if(e.length>0){let t=e.reduce((e,t)=>t.commentCount>(e?e.commentCount:0)?t:e);y(t)}else y(null)};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(w(),{children:[s.jsx("title",{children:"Recent New Releases"}),s.jsx("meta",{description:"Exciting new Books to invigorate your creative mind."})]}),(0,s.jsxs)("div",{style:{maxWidth:"1200px",margin:"0 auto",textAlign:"center",marginTop:70,padding:"0 20px",overflowX:"hidden"},children:[s.jsx("h2",{children:"Recommended"}),s.jsx(f(),{autoplay:!0,style:{maxWidth:"100%"},children:W.map((e,t)=>s.jsx(_(),{href:`/post/${e.slug}`,children:(0,s.jsxs)(p(),{hoverable:!0,style:{width:"100%",marginTop:20},cover:s.jsx(g(),{shape:"square",style:{height:"300px"},src:e.coverImage?.url||"images/default.jpg",alt:e.title}),children:[(0,s.jsxs)("div",{style:{position:"absolute",top:10,left:10,backgroundColor:"rgba(0, 0, 0, 0.5)",padding:"4px 8px",color:"white"},children:["Rank ",t+1]}),s.jsx("div",{style:{marginBottom:20},children:s.jsx(A,{title:e.title})})]})},e.slug))})]}),s.jsx(S(),{children:"Categories"}),s.jsx("div",{style:{display:"flex",justifyContent:"center",flexWrap:"wrap",margin:"20px 0"},children:E.map(e=>s.jsx(_(),{href:`/category/${e.slug}`,children:s.jsx(m(),{style:{margin:"0 8px 8px 0",background:"#468570",color:"white"},children:e.name})},e._id))}),(0,s.jsxs)("div",{style:{textAlign:"center",marginTop:50,padding:"0 20px",overflowX:"hidden"},children:[s.jsx("h2",{children:"Recent New Releases"}),s.jsx(O,{placeholder:"Search for books",onSearch:M,enterButton:!0,style:{maxWidth:300,margin:"0 auto"}})]}),s.jsx(a(),{gutter:16,style:{marginTop:20,padding:"0 20px",overflowX:"hidden"},children:k.map(e=>s.jsx(c(),{xs:24,sm:12,md:8,lg:6,xl:6,children:s.jsx(_(),{href:`/post/${e.slug}`,children:(0,s.jsxs)(p(),{hoverable:!0,style:{width:"100%",maxWidth:"300px",marginBottom:20},cover:s.jsx(g(),{shape:"square",style:{height:"200px"},src:e.coverImage?.url||"images/default.jpeg",alt:e.title,id:"book"}),children:[j&&j._id===e._id&&s.jsx("div",{style:{position:"absolute",top:0,right:0,backgroundColor:"gold",padding:"4px 8px",color:"black"},children:"Most Recommended"}),-1!==W.findIndex(t=>t._id===e._id)&&(0,s.jsxs)("div",{style:{position:"absolute",top:0,left:0,backgroundColor:"green",padding:"4px 8px",color:"white"},children:["Top"," ",W.findIndex(t=>t._id===e._id)+1]}),s.jsx(A,{title:e.title})]})})},e.slug))}),(0,s.jsxs)("div",{style:{textAlign:"center",marginTop:20,padding:"0 20px",overflowX:"hidden"},children:[s.jsx(m(),{onClick:()=>{let e=x-1;h(e);let r=(e-1)*8,i=r+8,s=t.slice(r,i);R(s)},disabled:1===x,style:{marginRight:"10px"},children:"Previous"})," ",s.jsx(m(),{onClick:()=>{let e=x+1;if((e-1)*8<d){h(e);let r=(e-1)*8,i=r+8,s=t.slice(r,i);R(e=>[...e,...s])}},disabled:8*x>=d,loading:b,style:{marginBottom:50,marginLeft:"10px"},children:"Load More"})]})]})};async function R(){let{data:e}=await o.default.get(`${process.env.API}/posts/1`);return{props:{posts:e}}}let B=W;i()}catch(e){i(e)}})},2746:e=>{e.exports=require("@ant-design/icons/lib/icons/AppstoreOutlined")},7851:e=>{e.exports=require("@ant-design/icons/lib/icons/BookOutlined")},6076:e=>{e.exports=require("@ant-design/icons/lib/icons/LogoutOutlined")},4824:e=>{e.exports=require("@ant-design/icons/lib/icons/MailOutlined")},3221:e=>{e.exports=require("@ant-design/icons/lib/icons/SettingOutlined")},891:e=>{e.exports=require("@ant-design/icons/lib/icons/UserAddOutlined")},2127:e=>{e.exports=require("@ant-design/icons/lib/icons/UserOutlined")},5998:e=>{e.exports=require("antd/lib/avatar")},3800:e=>{e.exports=require("antd/lib/button")},2317:e=>{e.exports=require("antd/lib/card")},3029:e=>{e.exports=require("antd/lib/carousel")},8518:e=>{e.exports=require("antd/lib/col")},2278:e=>{e.exports=require("antd/lib/divider")},675:e=>{e.exports=require("antd/lib/input")},274:e=>{e.exports=require("antd/lib/menu")},7050:e=>{e.exports=require("antd/lib/row")},2785:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},968:e=>{e.exports=require("next/head")},6689:e=>{e.exports=require("react")},6405:e=>{e.exports=require("react-dom")},997:e=>{e.exports=require("react/jsx-runtime")},9648:e=>{e.exports=import("axios")},6201:e=>{e.exports=import("react-hot-toast")},7147:e=>{e.exports=require("fs")},1017:e=>{e.exports=require("path")},2781:e=>{e.exports=require("stream")},9796:e=>{e.exports=require("zlib")}};var t=require("../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),i=t.X(0,[9966,3424,7481,8450,7648],()=>r(5002));module.exports=i})();