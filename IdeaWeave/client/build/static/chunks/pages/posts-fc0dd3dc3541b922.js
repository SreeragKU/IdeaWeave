(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2679],{15161:function(e,t,l){(window.__NEXT_P=window.__NEXT_P||[]).push(["/posts",function(){return l(53043)}])},88344:function(e,t,l){"use strict";var i=l(67294),n=l(6154);t.Z=()=>{let[e,t]=(0,i.useState)([]);return(0,i.useEffect)(()=>{let e=async()=>{try{let{data:e}=await n.Z.get("/category");t(e)}catch(e){console.log(e)}};e()},[]),{categories:e}}},53043:function(e,t,l){"use strict";l.r(t),l.d(t,{Posts:function(){return _},__N_SSP:function(){return w}});var i=l(85893),n=l(67294),s=l(6154),o=l(55673),r=l(5789),a=l(70302),d=l(84960),c=l(65400),u=l(60713),x=l(51024),h=l(74253),g=l(9008),p=l.n(g),f=l(41664),m=l.n(f),j=l(88344);let{Meta:v}=a.default,{Search:y}=x.default;var w=!0;let _=e=>{let{posts:t}=e,[l,x]=(0,n.useState)(t),[g,f]=(0,n.useState)(t),[w,_]=(0,n.useState)(0),[b,C]=(0,n.useState)(1),[k,S]=(0,n.useState)(!1),[E,N]=(0,n.useState)(null),[R,T]=(0,n.useState)(""),[Z,P]=(0,n.useState)([]),[X,B]=(0,n.useState)([]),{categories:W}=(0,j.Z)();(0,n.useEffect)(()=>{I()},[]),(0,n.useEffect)(()=>{f(t),x(t),P(t.slice(0,8))},[t]),(0,n.useEffect)(()=>{M(),L(),A()},[l,b]);let I=async()=>{try{let{data:e}=await s.Z.get("/post-count");_(e)}catch(e){console.error(e)}},L=()=>{let e=l.filter(e=>e.commentCount>0).sort((e,t)=>t.commentCount-e.commentCount).slice(0,5);B(e)},A=()=>{let e=(b-1)*8,t=e+8,i=l.slice(e,t);P(i)},q=async e=>{T(e);let t=g.filter(t=>t.title.toLowerCase().includes(e.toLowerCase()));x(t),C(1),A()},M=()=>{let e=l.filter(e=>e.commentCount>0);if(e.length>0){let t=e.reduce((e,t)=>t.commentCount>(e?e.commentCount:0)?t:e);N(t)}else N(null)};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(p(),{children:[(0,i.jsx)("title",{children:"Recent New Releases"}),(0,i.jsx)("meta",{description:"Exciting new Books to invigorate your creative mind."})]}),(0,i.jsxs)("div",{style:{maxWidth:"1200px",margin:"0 auto",textAlign:"center",marginTop:70,padding:"0 20px",overflowX:"hidden"},children:[(0,i.jsx)("h2",{children:"Recommended"}),(0,i.jsx)(u.Z,{autoplay:!0,style:{maxWidth:"100%"},children:X.map((e,t)=>{var l;return(0,i.jsx)(m(),{href:"/post/".concat(e.slug),children:(0,i.jsxs)(a.default,{hoverable:!0,style:{width:"100%",marginTop:20},cover:(0,i.jsx)(d.ZP,{shape:"square",style:{height:"300px"},src:(null===(l=e.coverImage)||void 0===l?void 0:l.url)||"images/default.jpg",alt:e.title}),children:[(0,i.jsxs)("div",{style:{position:"absolute",top:10,left:10,backgroundColor:"rgba(0, 0, 0, 0.5)",padding:"4px 8px",color:"white"},children:["Rank ",t+1]}),(0,i.jsx)("div",{style:{marginBottom:20},children:(0,i.jsx)(v,{title:e.title})})]})},e.slug)})})]}),(0,i.jsx)(h.Z,{children:"Categories"}),(0,i.jsx)("div",{style:{display:"flex",justifyContent:"center",flexWrap:"wrap",margin:"20px 0"},children:W.map(e=>(0,i.jsx)(m(),{href:"/category/".concat(e.slug),children:(0,i.jsx)(c.default,{style:{margin:"0 8px 8px 0",background:"#468570",color:"white"},children:e.name})},e._id))}),(0,i.jsxs)("div",{style:{textAlign:"center",marginTop:50,padding:"0 20px",overflowX:"hidden"},children:[(0,i.jsx)("h2",{children:"Recent New Releases"}),(0,i.jsx)(y,{placeholder:"Search for books",onSearch:q,enterButton:!0,style:{maxWidth:300,margin:"0 auto"}})]}),(0,i.jsx)(o.default,{gutter:16,style:{marginTop:20,padding:"0 20px",overflowX:"hidden"},children:Z.map(e=>{var t;return(0,i.jsx)(r.default,{xs:24,sm:12,md:8,lg:6,xl:6,children:(0,i.jsx)(m(),{href:"/post/".concat(e.slug),children:(0,i.jsxs)(a.default,{hoverable:!0,style:{width:"100%",maxWidth:"300px",marginBottom:20},cover:(0,i.jsx)(d.ZP,{shape:"square",style:{height:"200px"},src:(null===(t=e.coverImage)||void 0===t?void 0:t.url)||"images/default.jpeg",alt:e.title,id:"book"}),children:[E&&E._id===e._id&&(0,i.jsx)("div",{style:{position:"absolute",top:0,right:0,backgroundColor:"gold",padding:"4px 8px",color:"black"},children:"Most Recommended"}),-1!==X.findIndex(t=>t._id===e._id)&&(0,i.jsxs)("div",{style:{position:"absolute",top:0,left:0,backgroundColor:"green",padding:"4px 8px",color:"white"},children:["Top"," ",X.findIndex(t=>t._id===e._id)+1]}),(0,i.jsx)(v,{title:e.title})]})})},e.slug)})}),(0,i.jsxs)("div",{style:{textAlign:"center",marginTop:20,padding:"0 20px",overflowX:"hidden"},children:[(0,i.jsx)(c.default,{onClick:()=>{let e=b-1;C(e);let t=(e-1)*8,i=t+8,n=l.slice(t,i);P(n)},disabled:1===b,style:{marginRight:"10px"},children:"Previous"})," ",(0,i.jsx)(c.default,{onClick:()=>{let e=b+1;if((e-1)*8<w){C(e);let t=(e-1)*8,i=t+8,n=l.slice(t,i);P(e=>[...e,...n])}},disabled:8*b>=w,loading:k,style:{marginBottom:50,marginLeft:"10px"},children:"Load More"})]})]})};t.default=_}},function(e){e.O(0,[5584,5400,4104,1024,1350,4960,3656,9774,2888,179],function(){return e(e.s=15161)}),_N_E=e.O()}]);